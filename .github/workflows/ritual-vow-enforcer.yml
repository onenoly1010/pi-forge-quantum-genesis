name: Ritual Vow Enforcer

on:
  push:
    branches:
      - main

jobs:
  enforce-vows:
    runs-on: ubuntu-latest
    steps:
      - name: Validate Commit Vows
        run: |
          commits=$(git log -1 --pretty=%B)
          if [[ ! $commits =~ ^(INGEST|AUDIT|BROADCAST|RESONANCE|EXPAND|MAINTAIN) ]]; then
            echo "âŒ Invalid commit vow prefix."
            exit 1
          fi
          if [[ ! $commits =~ (ğŸ”¨|â›“ï¸|ğŸ›¡ï¸|ğŸ“¡|ğŸ§­) ]]; then
            echo "âŒ Missing guardian glyph."
            exit 1
          fi
          echo "âœ… Commit vow validated."
